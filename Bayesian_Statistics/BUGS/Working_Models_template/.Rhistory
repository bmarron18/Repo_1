}
stps1 <- vector()
stps1[1] <- .5
alpha <- .01
for (i in 2:100) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps[i-1])
}
plot(stps)
stps1 <- vector()
stps1[1] <- .5
alpha <- .3
for (i in 2:100) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps[i-1])
}
stps
stps1 <- vector()
stps1[1] <- .5
alpha <- .3
for (i in 2:100) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps[i-1])
}
stps
stps1
plot(stps1)
stps1 <- vector()
stps1[1] <- .5
alpha <- .01
for (i in 2:100) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps1[i-1])
}
plot(stps1)
stps1 <- vector()
stps1[1] <- .5
alpha <- .3
for (i in 2:100) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps1[i-1])
}
plot(stps1)
stps1 <- vector()
stps1[1] <- .5
alpha <- .4
for (i in 2:100) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps1[i-1])
}
plot(stps1)
stps1 <- vector()
stps1[1] <- .1
alpha <- .4
for (i in 2:10) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps1[i-1])
}
stps1
stps1 <- vector()
stps1[1] <- .1
alpha <- 2
for (i in 2:100) {
stps1[i] <- alpha*stps1[i-1]*(1 - stps1[i-1])
}
plot(stps1)
stps2 <- vector()
stps2[1] <- .1
alpha <- 3.2
for (i in 2:100) {
stps2[i] <- alpha*stps2[i-1]*(1 - stps2[i-1])
}
plot(stps2)
stps3 <- vector()
stps3[1] <- .1
alpha <- 4
for (i in 2:100) {
stps3[i] <- alpha*stps3[i-1]*(1 - stps3[i-1])
}
plot(stps3)
stps3 <- vector()
stps3[1] <- .1
alpha <- 4
for (i in 2:1000) {
stps3[i] <- alpha*stps3[i-1]*(1 - stps3[i-1])
}
plot(stps3)
stps3 <- vector()
stps3[1] <- .1
alpha <- 4
for (i in 2:10000) {
stps3[i] <- alpha*stps3[i-1]*(1 - stps3[i-1])
}
plt(stps3)
plot(stps3)
q()
R1 <- mattrix(c(.6,.1,0,.7), ncol=2)
R1 <- matrix(c(.6,.1,0,.7), ncol=2)
R1
R1 <- matrix(c(.6,.1,0,.7), nrow=2)
R1
R1 <- matrix(c(.6,.1,0,.7), ncol=2, byrow)
?matrix
R1 <- matrix(c(.6,.1,0,.7), ncol=2, byrow=T)
R1
x_1 <- c(15,18)
R1%*%x_1
?round
round(R1%*%x_1)
round(.3*33)
18+15
33-24
P1 <- matrix(c(.2,0,.1,.1), ncol=2, byrow=T)
P1
x_2<- round(R1%*%x_1)
x_2
x_2p <- round(P1%*%x_2r)
x_2r<-x_2
x_2p <- round(P1%*%x_2r)
x_2p
Level1<-matrix(rep(0,2), ncol=1)
Level1[,1]<-c(15,18)
Level1
R<-R1
R%*%Level1[,1]
round(R%*%Level1[,1])
for (ii in 2:10){
Level1<-cbind(Level1, round(R%*%Level1[,ii-1])
if(identical(Level1[ii], Level1[,ii-1])) {
break
}
}
Level1
Level1<-cbind(Level1, round(R%*%Level1[,1])
)
Level1
Level1<-matrix(rep(0,2), ncol=1)    		#intial state vector as matrix (so can use cbind() in recursions)
Level1[,1]<-c(15,18)
Level1
for (ii in 2:10){
Level1<-cbind(Level1, round(R%*%Level1[,ii-1]))
if(identical(Level1[ii], Level1[,ii-1])) {
break
}
}
Level1
Level1<-matrix(rep(0,2), ncol=1)    		#intial state vector as matrix (so can use cbind() in recursions)
Level1[,1]<-c(15,18)					#initial value ==> S1 at stp1
#recursive soln; stops when successive prob vectors are equal (to 6 decimal places)
for (ii in 2:10){
Level1<-cbind(Level1, round(R%*%Level1[,ii-1]))
if(identical(Level1[,ii], Level1[,ii-1])) {
break
}
}
Level1
Level1<-matrix(rep(0,2), ncol=1)    		#intial state vector as matrix (so can use cbind() in recursions)
Level1[,1]<-c(30,18)					#initial state ==> incoming Y1 numbers for two competency classes
#recursive soln; stops when successive vectors are equal
for (ii in 2:50){
Level1<-cbind(Level1, round(R%*%Level1[,ii-1]))
if(identical(Level1[,ii], Level1[,ii-1])) {
break
}
}
Level1
Level1<-matrix(rep(0,2), ncol=1)    		#intial state vector as matrix (so can use cbind() in recursions)
Level1[,1]<-c(50,18)					#initial state ==> incoming Y1 numbers for two competency classes
#recursive soln; stops when successive vectors are equal
for (ii in 2:50){
Level1<-cbind(Level1, round(R%*%Level1[,ii-1]))
if(identical(Level1[,ii], Level1[,ii-1])) {
break
}
}
Level1
q()
source(http://www.stat.washington.edu/hoff/Book/Data/data/alldata)
source("http://www.stat.washington.edu/hoff/Book/Data/data/alldata")
source("http://www.stat.washington.edu/hoff/Book/Data/data/alldata.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/alldata")
load("http://www.stat.washington.edu/hoff/Book/Data/data/alldata")
load("www.stat.washington.edu/hoff/Book/Data/data/alldata")
load("www.stat.washington.edu/hoff/Book/Data/data/mathdata")
load("http://www.stat.washington.edu/hoff/Book/Data/data/mathdata")
load("http://www.stat.washington.edu/hoff/Book/Data/data/chapter7.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/chapter7.r")
source("http://www.stat.washington.edu/hoff/Book/Data/alldata")
source("http://www.stat.washington.edu/hoff/Book/Data/alldata.r")
load("http://www.stat.washington.edu/hoff/Book/Data/alldata.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/alldata.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/alldata")
source("http://www.stat.washington.edu/hoff/Book/Data/data/chapter8.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/chapter9.r")
rmvnorm
source("http://www.stat.washington.edu/hoff/Book/Data/data/chapter10.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/chapter11.r")
ldmvnorm
rwish
source("http://www.stat.washington.edu/hoff/Book/Data/data/chapter3.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/chapter4.r")
source("http://www.stat.washington.edu/hoff/Book/Data/data/alldata.r")
getwd
getwd()
source("/home/bmarron/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bac.txt")
source("/home/bmarron/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bach.txt")
menchild30bach <- read.table("~/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bach.txt", quote="\"", stringsAsFactors=FALSE)
View(menchild30bach)
menchild30bach <- read.table("~/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bach.txt", quote="\"")
View(menchild30bach)
menchild30bach <- read.table("~/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bach.txt", quote="\"")
View(menchild30bach)
menchild30bach <- read.csv("~/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bach.txt", header=FALSE, stringsAsFactors=FALSE)
View(menchild30bach)
menchild30bach <- read.csv("~/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bach.txt", header=FALSE, stringsAsFactors=FALSE)
View(menchild30bach)
is.data.frame(menchild30bach)
as.string(menchild30bach)
as.vector(menchild30bach)
v<-as.vector(menchild30bach)
write.table(v,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
col.names = FALSE,
row.names=FALSE
)
write.table(v,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
eol = ",\n",
col.names = FALSE,
row.names=FALSE
)
write.table(matrix(as.numeric(v),nrow=1), sep=",",
row.names=FALSE, col.names=FALSE)
write.table(matrix(as.numeric(menchild30bach),nrow=1), sep=",",
row.names=FALSE, col.names=FALSE)
write.table(matrix(as.character(menchild30bach),nrow=1), sep=",",
row.names=FALSE, col.names=FALSE)
write.table(matrix(as.character(v),nrow=1), sep=",",
row.names=FALSE, col.names=FALSE)
paste(v, collapse=", ")
paste(as.character(v), collapse=", ")
paste(as.character(menchild30bach), collapse=", ")
paste(as.character(menchild30bach), collapse=",")
one = c(1:5);paste(as.character(one), collapse=", ")
is.vector(v)
v<-as.vector(menchild30bach)
v
is.vector(v)
v<-as.vector(menchild30bach[1])
is.vector(v)
menchild30bach <- read.csv("~/Desktop/Statistics/STAT_510/Hoff_Data/menchild30bach.txt", header=FALSE, stringsAsFactors=FALSE)
View(menchild30bach)
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
eol = ",\n",
col.names = FALSE,
row.names=FALSE
)
creditscore <- read.csv("~/Desktop/Statistics/STAT_510/Final_Project/DataFiles/creditscore.csv")
View(creditscore)
creditscore[,6]
scan("~/Desktop/menchild30bach.txt")
?scan
?cat
?scan
scan("~/Desktop/menchild30bach.txt", skip=1)
scan("~/Desktop/menchild30bach.txt")
scan("~/Desktop/menchild30bach.txt", nlines=1)
scan("~/Desktop/menchild30bach.txt", nlines=2)
scan("~/Desktop/menchild30bach.txt", nlines=1, what="numeric")
menchild30bach <- as.vector(scan("~/Desktop/menchild30bach.txt", nlines=1, what="numeric"))
unlink(menchild30bach)
unlink("menchild30bach")
menchild30bach
as.vector(menchild30bach)
is.vector(menchild30bach)
write.table(menchild30bach
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
col.names = FALSE,
row.names=FALSE
)
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
col.names = FALSE,
row.names=FALSE
)
menchild30bach <- scan("~/Desktop/menchild30bach.txt", nlines=1, what="numeric")
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
col.names = FALSE,
row.names=FALSE
)
menchild30nobach <- scan("~/Desktop/menchild30nobach.txt", nlines=1, what="numeric")
menchild30nobach
menchild30bach <- scan("~/Desktop/menchild30bach.dat", nlines=1, what="numeric")
menchild30bach <- scan("~/Desktop/menchild30bach.dat", nlines=1, what= list())
menchild30bach <- read.table("~/Desktop/menchild30bach.dat")
menchild30bach <- scan("~/Desktop/menchild30bach.dat", nlines=1)
menchild30bach
menchild30bach <- scan("~/Desktop/menchild30bach.dat", nlines=1, sep=",")
menchild30bach
menchild30bach <- scan("~/Desktop/menchild30bach.dat", nlines=1)
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",     		#clean-up Y_99.d.txt
sep = ",",
col.names = FALSE,
row.names=FALSE
)
is.vector(menchild30bach)
?write.table
as.data.frame(menchild30bach)
menchild30bach <- as.data.frame(scan("~/Desktop/menchild30bach.dat", nlines=1))
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",     		#clean-up Y_99.d.txt
sep = ",",
col.names = FALSE,
row.names=FALSE
)
View(menchild30bach)
write.csv(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
col.names = FALSE,
row.names=FALSE
)
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
eol = ",\n",
col.names = FALSE,
row.names=FALSE
)
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
eol = ",\n",
collapse= ","
col.names = FALSE,
row.names=FALSE
)
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
eol = ",\n",
collapse= ",",
col.names = FALSE,
row.names=FALSE
)
write.table(menchild30bach,
file = "/home/bmarron/Desktop/Y_99.d.txt",
sep = ",",
eol = ",",
col.names = FALSE,
row.names=FALSE
)
menchild30nobach <- as.data.frame(scan("~/Desktop/menchild30nobach.txt", nlines=1))
write.table(menchild30nobach,
file = "/home/bmarron/Desktop/Y_98.d.txt",
sep = ",",
eol = ",",
col.names = FALSE,
row.names=FALSE
)
menchild30nobach <- as.data.frame(scan("~/Desktop/menchild30nobach.txt", nlines=6))
menchild30nobach <- as.data.frame(scan("~/Desktop/menchild30nobach.dat", nlines=1))
menchild30nobach <- as.data.frame(scan("~/Desktop/menchild30nobach.dat", nlines=6))
View(menchild30nobach)
write.table(menchild30nobach,
file = "/home/bmarron/Desktop/Y_98.d.txt",
sep = ",",
eol = ",",
col.names = FALSE,
row.names=FALSE
)
q()
menchild30bach <- as.data.frame(scan("~/Desktop/menchild30bach.dat", nlines=2))
View(menchild30bach)
sum(menchild30bac[,1])
sum(menchild30bach[,1])
menchild30nobach <- as.data.frame(scan("~/Desktop/menchild30nobach.dat", nlines=6))
sum(menchild30nobach[,1])
mean(menchild30nobach[,1])
mean(menchild30bach[,1])
length(menchild30bach[,1])
W1 <- V1 <- 2
W2 <- V2 <- 1
Y.99.d.c <- length(menchild30bach[,1])
Y.99.d.t <- sum(menchild30bach[,1])
Z1.mc <- rgamma(10000, W1+Y.99.d.t, W2+Y.99.d.c)
Y.99.pred <- rpois(10000, Z1.mc)
Y.98.d.c <- length(menchild30nobach[,1])
Y.98.d.t <- sum(menchild30nobach[,1])
Z2.mc <- rgamma(10000, V1+Y.98.d.t, V2+Y.98.d.c)
Y.99.pred <- rpois(10000, Z1.mc)
mean(Y.99.pred>Y.98.pred)
mean(Y.99.pred<Y.98.pred)
mean(Y.99.pred-Y.98.pred)
mean(Y.98.pred-Y.99.pred)
set.seed(47)
W1 <- V1 <- 2
W2 <- V2 <- 1
Y.99.d.c <- length(menchild30bach[,1])
Y.99.d.t <- sum(menchild30bach[,1])
Z1.mc <- rgamma(10000, W1+Y.99.d.t, W2+Y.99.d.c)
Y.99.pred <- rpois(10000, Z1.mc)
Y.98.d.c <- length(menchild30nobach[,1])
Y.98.d.t <- sum(menchild30nobach[,1])
Z2.mc <- rgamma(10000, V1+Y.98.d.t, V2+Y.98.d.c)
Y.98.pred <- rpois(10000, Z1.mc)
mean(Y.99.pred>Y.98.pred)
mean(Y.99.pred<Y.98.pred)
mean(Y.99.pred-Y.98.pred)
mean(Y.98.pred-Y.99.pred)
q()
library("BRugs", lib.loc="/usr/local/lib/R/site-library")
library("coda", lib.loc="/usr/local/lib/R/site-library")
getwd()
oldwd<-getwd()
modelSetWD("/home/bmarron/Desktop/Statistics/STAT_510/Working_Models")
load("/home/bmarron/Desktop/Statistics/STAT_510/Working_Models/.RData")
mean(Y.99.stat1.pred.d)
mean(Y.99.d)/sd(Y.98.d)
Y.99.d<-menchild30bach[,1]
mean(Y.99.d)/sd(Y.98.d)
Y.99.d<-menchild30bach[,1]
mean(Y.99.d)/sd(Y.99.d)
hist(Y.99.stat1.pred.d)
Y.99.stat1.coda.pred.d<-read.coda("Y.99.stat1.pred.d")
Y.99.stat1.coda.pred.d<-read.coda(Y.99.stat1.pred.d)
codamenu()
Y.99.stat1.coda.pred.d<-as.mcmc(Y.99.stat1.pred.d)
codamenu()
densityplot(Y.99.stat1.coda.pred.d,     							#'coda' plot; a trellis ('lattice') object
xlab ="stat1 (inverse CV)"
)
trellis.last.object(panel = function(...) {    						#'lattice' command
panel.abline(v = 0.8541447, lty = "solid", col = "black")		#add a vert line
panel.densityplot(...)
}
)
codamenu()
Y.98.mean.pred.d<-NULL
Y.98.stat1.pred.d<-NULL
for (i in 1:10000){
Z2 <- rgamma(1, V1+Y.98.d.t, V2+Y.98.d.c)
Y.98.pred.d <- rpois(Y.98.d.c, Z2)
Y.98.mean.pred.d <- c(
Y.98.mean.pred.d,
mean(Y.98.pred.d)
)
Y.98.stat1.pred.d <- c(
Y.98.stat1.pred.d,
mean(Y.98.pred.d)/sd(Y.98.pred.d)
)
}
mean(Y.98.mean.pred.d)
mean(Y.98.stat1.pred.d)
Y.98.d<-menchild30nobach[,1]
mean(Y.98.d)/sd(Y.98.d)
hist(Y.98.stat1.pred.d)
Y.98.stat1.coda.pred.d<-as.mcmc(Y.98.stat1.pred.d)
codamenu()
densityplot(Y.98.stat1.coda.pred.d,
xlab ="stat1 (inverse CV)"
)
trellis.last.object(panel = function(...) {
panel.abline(v = 1.010138, lty = "solid", col = "black")		#add a vert line
panel.densityplot(...)
}
)
getWd
getwd
getwd()
tester1<-BRugsFit(
modelFile="model.txt",
data="data.txt",
##inits="inits.txt",
parametersToSave=c( "Z1", "Z2", "D1", "D2", "D3", "D4", "P1", "P2", "P3", "P4",
"Y.99.stat1.d", "Y.99.stat1.pred.d", "Pstat1.99",
"Y.98.stat1.d", "Y.98.stat1.pred.d", "Pstat1.98",
"Y.99.pred", "Y.98.pred"),
numChains=1,
nIter=20000)
tester1<-BRugsFit(
modelFile="model.txt",
data="data.txt",
##inits="inits.txt",
parametersToSave=c( "Z1", "Z2", "D1", "D2", "D3", "D4", "P1", "P2", "P3", "P4",
"Y.99.stat1.d", "Y.99.stat1.pred.d", "Pstat1.99",
"Y.98.stat1.d", "Y.98.stat1.pred.d", "Pstat1.98",
"Y.99.pred", "Y.98.pred"),
numChains=1,
nIter=20000)
tester1<-BRugsFit(
modelFile="model.txt",
data="data.txt",
##inits="inits.txt",
parametersToSave=c( "Z1", "Z2", "D1", "D2", "D3", "D4", "P1", "P2", "P3", "P4",
"Y.99.stat1.d", "Y.99.stat1.pred.d", "Pstat1.99",
"Y.98.stat1.d", "Y.98.stat1.pred.d", "Pstat1.98",
"Y.99.pred", "Y.98.pred"),
numChains=1,
nIter=20000)
modelCheck("model.txt")
modelData("data.txt")
modelCompile(numChains=1)
tester1<-BRugsFit(
modelFile="model.txt",
data="data.txt",
##inits="inits.txt",
parametersToSave=c( "Z1", "Z2"),
numChains=1,
nIter=20000)
q()
